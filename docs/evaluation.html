<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Evaluation | NEON Ecological Forecasting Challenge</title>
  <meta name="description" content="Documentation for the NEON Ecological Forecasting Challenge" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Evaluation | NEON Ecological Forecasting Challenge" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="http://seankross.com/bookdown-start/" />
  
  <meta property="og:description" content="Documentation for the NEON Ecological Forecasting Challenge" />
  <meta name="github-repo" content="eco4cast/neon4cast-docs" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Evaluation | NEON Ecological Forecasting Challenge" />
  
  <meta name="twitter:description" content="Documentation for the NEON Ecological Forecasting Challenge" />
  

<meta name="author" content="Hosted by the Ecological Forecasting Initative Research Coordination Network and supported by National Science Foundation (DEB-1926388)" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="submission-instructions.html"/>
<link rel="next" href="meteorology-inputs.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NEON Ecological Forecasting Challenge</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="1" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html"><i class="fa fa-check"></i><b>1</b> Theme: Aquatic Ecosystems</a>
<ul>
<li class="chapter" data-level="1.1" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html#overview"><i class="fa fa-check"></i><b>1.1</b> Overview</a></li>
<li class="chapter" data-level="1.2" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html#challenge"><i class="fa fa-check"></i><b>1.2</b> Challenge</a></li>
<li class="chapter" data-level="1.3" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html#data-targets"><i class="fa fa-check"></i><b>1.3</b> Data: Targets</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html#surface-mean-daily-dissolved-oxygen-concentration"><i class="fa fa-check"></i><b>1.3.1</b> Surface Mean Daily Dissolved Oxygen Concentration</a></li>
<li class="chapter" data-level="1.3.2" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html#surface-mean-daily-water-temperature"><i class="fa fa-check"></i><b>1.3.2</b> Surface Mean Daily Water Temperature</a></li>
<li class="chapter" data-level="1.3.3" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html#focal-sites"><i class="fa fa-check"></i><b>1.3.3</b> Focal sites</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html#timeline"><i class="fa fa-check"></i><b>1.4</b> Timeline</a></li>
<li class="chapter" data-level="1.5" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html#design-team"><i class="fa fa-check"></i><b>1.5</b> Design Team</a></li>
<li class="chapter" data-level="1.6" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html#partners"><i class="fa fa-check"></i><b>1.6</b> Partners</a></li>
<li class="chapter" data-level="1.7" data-path="theme-aquatic-ecosystems.html"><a href="theme-aquatic-ecosystems.html#references"><i class="fa fa-check"></i><b>1.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html"><i class="fa fa-check"></i><b>2</b> Theme: Carbon and Water Fluxes</a>
<ul>
<li class="chapter" data-level="2.1" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#overview-1"><i class="fa fa-check"></i><b>2.1</b> Overview</a></li>
<li class="chapter" data-level="2.2" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#challenge-1"><i class="fa fa-check"></i><b>2.2</b> Challenge</a></li>
<li class="chapter" data-level="2.3" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#data-targets-1"><i class="fa fa-check"></i><b>2.3</b> Data: Targets</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#net-ecosystem-exchange"><i class="fa fa-check"></i><b>2.3.1</b> Net ecosystem exchange</a></li>
<li class="chapter" data-level="2.3.2" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#latent-heat-flux"><i class="fa fa-check"></i><b>2.3.2</b> Latent heat flux</a></li>
<li class="chapter" data-level="2.3.3" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#soil-moisture"><i class="fa fa-check"></i><b>2.3.3</b> Soil moisture</a></li>
<li class="chapter" data-level="2.3.4" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#focal-sites-1"><i class="fa fa-check"></i><b>2.3.4</b> Focal sites</a></li>
<li class="chapter" data-level="2.3.5" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#minute-target-data-calulation"><i class="fa fa-check"></i><b>2.3.5</b> 30-minute target data calulation</a></li>
<li class="chapter" data-level="2.3.6" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#daily-target-data-calulation"><i class="fa fa-check"></i><b>2.3.6</b> Daily target data calulation</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#timeline-1"><i class="fa fa-check"></i><b>2.4</b> Timeline</a></li>
<li class="chapter" data-level="2.5" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#design-team-1"><i class="fa fa-check"></i><b>2.5</b> Design team</a></li>
<li class="chapter" data-level="2.6" data-path="theme-carbon-and-water-fluxes.html"><a href="theme-carbon-and-water-fluxes.html#partners-1"><i class="fa fa-check"></i><b>2.6</b> Partners</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html"><i class="fa fa-check"></i><b>3</b> Theme: Tick Populations</a>
<ul>
<li class="chapter" data-level="3.1" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#overview-2"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#challenge-2"><i class="fa fa-check"></i><b>3.2</b> Challenge</a></li>
<li class="chapter" data-level="3.3" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#data-targets-2"><i class="fa fa-check"></i><b>3.3</b> Data: Targets</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#amblyomma-americanum-nymphs"><i class="fa fa-check"></i><b>3.3.1</b> Amblyomma americanum nymphs</a></li>
<li class="chapter" data-level="3.3.2" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#ixodes-scapularis-nymphs"><i class="fa fa-check"></i><b>3.3.2</b> Ixodes scapularis nymphs</a></li>
<li class="chapter" data-level="3.3.3" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#focal-sites-2"><i class="fa fa-check"></i><b>3.3.3</b> Focal sites</a></li>
<li class="chapter" data-level="3.3.4" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#target-data-calculation"><i class="fa fa-check"></i><b>3.3.4</b> Target data calculation</a></li>
<li class="chapter" data-level="3.3.5" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#target-file"><i class="fa fa-check"></i><b>3.3.5</b> Target file</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#timeline-2"><i class="fa fa-check"></i><b>3.4</b> Timeline</a></li>
<li class="chapter" data-level="3.5" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#design-team-2"><i class="fa fa-check"></i><b>3.5</b> Design team</a></li>
<li class="chapter" data-level="3.6" data-path="theme-tick-populations.html"><a href="theme-tick-populations.html#partners-2"><i class="fa fa-check"></i><b>3.6</b> Partners</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html"><i class="fa fa-check"></i><b>4</b> Theme: Spring Phenology</a>
<ul>
<li class="chapter" data-level="4.1" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#overview-3"><i class="fa fa-check"></i><b>4.1</b> Overview</a></li>
<li class="chapter" data-level="4.2" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#challenge-3"><i class="fa fa-check"></i><b>4.2</b> Challenge</a></li>
<li class="chapter" data-level="4.3" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#data-targets-3"><i class="fa fa-check"></i><b>4.3</b> Data: Targets</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#green-chromatic-coordinate-gcc"><i class="fa fa-check"></i><b>4.3.1</b> Green chromatic coordinate (gcc)</a></li>
<li class="chapter" data-level="4.3.2" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#focal-sites-3"><i class="fa fa-check"></i><b>4.3.2</b> Focal sites</a></li>
<li class="chapter" data-level="4.3.3" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#target-data-calculation-1"><i class="fa fa-check"></i><b>4.3.3</b> Target data calculation</a></li>
<li class="chapter" data-level="4.3.4" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#target-file-1"><i class="fa fa-check"></i><b>4.3.4</b> Target file</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#timeline-3"><i class="fa fa-check"></i><b>4.4</b> Timeline</a></li>
<li class="chapter" data-level="4.5" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#design-team-3"><i class="fa fa-check"></i><b>4.5</b> Design team</a></li>
<li class="chapter" data-level="4.6" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#partners-3"><i class="fa fa-check"></i><b>4.6</b> Partners</a></li>
<li class="chapter" data-level="4.7" data-path="theme-spring-phenology.html"><a href="theme-spring-phenology.html#references-1"><i class="fa fa-check"></i><b>4.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html"><i class="fa fa-check"></i><b>5</b> Theme: Autumn phenology</a>
<ul>
<li class="chapter" data-level="5.1" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#overview-4"><i class="fa fa-check"></i><b>5.1</b> Overview</a></li>
<li class="chapter" data-level="5.2" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#challenge-4"><i class="fa fa-check"></i><b>5.2</b> Challenge</a></li>
<li class="chapter" data-level="5.3" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#data-targets-4"><i class="fa fa-check"></i><b>5.3</b> Data: Targets:</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#green-chromatic-coordinate-gcc-1"><i class="fa fa-check"></i><b>5.3.1</b> Green chromatic coordinate (gcc)</a></li>
<li class="chapter" data-level="5.3.2" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#red-chromatic-coordinate-rcc"><i class="fa fa-check"></i><b>5.3.2</b> Red chromatic coordinate (rcc)</a></li>
<li class="chapter" data-level="5.3.3" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#focal-sites-4"><i class="fa fa-check"></i><b>5.3.3</b> Focal sites</a></li>
<li class="chapter" data-level="5.3.4" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#target-data-calculation-2"><i class="fa fa-check"></i><b>5.3.4</b> Target data calculation</a></li>
<li class="chapter" data-level="5.3.5" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#target-file-2"><i class="fa fa-check"></i><b>5.3.5</b> Target file</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#timeline-4"><i class="fa fa-check"></i><b>5.4</b> Timeline</a></li>
<li class="chapter" data-level="5.5" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#design-team-4"><i class="fa fa-check"></i><b>5.5</b> Design team</a></li>
<li class="chapter" data-level="5.6" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#partners-4"><i class="fa fa-check"></i><b>5.6</b> Partners</a></li>
<li class="chapter" data-level="5.7" data-path="theme-autumn-phenology.html"><a href="theme-autumn-phenology.html#references-2"><i class="fa fa-check"></i><b>5.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html"><i class="fa fa-check"></i><b>6</b> Theme: Beetle Communities</a>
<ul>
<li class="chapter" data-level="6.1" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#overview-5"><i class="fa fa-check"></i><b>6.1</b> Overview</a></li>
<li class="chapter" data-level="6.2" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#challenge-5"><i class="fa fa-check"></i><b>6.2</b> Challenge</a></li>
<li class="chapter" data-level="6.3" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#data-targets-5"><i class="fa fa-check"></i><b>6.3</b> Data: Targets</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#abundance-of-beetles-abundance"><i class="fa fa-check"></i><b>6.3.1</b> Abundance of beetles (abundance)</a></li>
<li class="chapter" data-level="6.3.2" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#species-richness-n"><i class="fa fa-check"></i><b>6.3.2</b> Species richness (n)</a></li>
<li class="chapter" data-level="6.3.3" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#focal-sites-5"><i class="fa fa-check"></i><b>6.3.3</b> Focal sites</a></li>
<li class="chapter" data-level="6.3.4" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#target-data-calculation-3"><i class="fa fa-check"></i><b>6.3.4</b> Target data calculation</a></li>
<li class="chapter" data-level="6.3.5" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#target-file-3"><i class="fa fa-check"></i><b>6.3.5</b> Target file</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#timeline-5"><i class="fa fa-check"></i><b>6.4</b> Timeline</a></li>
<li class="chapter" data-level="6.5" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#design-team-5"><i class="fa fa-check"></i><b>6.5</b> Design team</a></li>
<li class="chapter" data-level="6.6" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#partners-5"><i class="fa fa-check"></i><b>6.6</b> Partners</a></li>
<li class="chapter" data-level="6.7" data-path="theme-beetle-communities.html"><a href="theme-beetle-communities.html#references-3"><i class="fa fa-check"></i><b>6.7</b> References</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="participation.html"><a href="participation.html"><i class="fa fa-check"></i><b>7</b> Participation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="participation.html"><a href="participation.html#participation-guidance"><i class="fa fa-check"></i><b>7.1</b> Participation guidance</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="participation.html"><a href="participation.html#how-to-participate"><i class="fa fa-check"></i><b>7.1.1</b> How to participate</a></li>
<li class="chapter" data-level="7.1.2" data-path="participation.html"><a href="participation.html#teams"><i class="fa fa-check"></i><b>7.1.2</b> Teams</a></li>
<li class="chapter" data-level="7.1.3" data-path="participation.html"><a href="participation.html#slack-and-github-communication"><i class="fa fa-check"></i><b>7.1.3</b> Slack and GitHub Communication</a></li>
<li class="chapter" data-level="7.1.4" data-path="participation.html"><a href="participation.html#archiving-models"><i class="fa fa-check"></i><b>7.1.4</b> Archiving models</a></li>
<li class="chapter" data-level="7.1.5" data-path="participation.html"><a href="participation.html#computational-resources"><i class="fa fa-check"></i><b>7.1.5</b> Computational resources</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="participation.html"><a href="participation.html#participation-agreement"><i class="fa fa-check"></i><b>7.2</b> Participation agreement</a></li>
<li class="chapter" data-level="7.3" data-path="participation.html"><a href="participation.html#neon-data-use"><i class="fa fa-check"></i><b>7.3</b> NEON Data Use</a></li>
<li class="chapter" data-level="7.4" data-path="participation.html"><a href="participation.html#additional-data-options"><i class="fa fa-check"></i><b>7.4</b> Additional data options</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="submission-instructions.html"><a href="submission-instructions.html"><i class="fa fa-check"></i><b>8</b> Submission Instructions</a>
<ul>
<li class="chapter" data-level="8.1" data-path="submission-instructions.html"><a href="submission-instructions.html#forecast-format"><i class="fa fa-check"></i><b>8.1</b> Forecast format</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="submission-instructions.html"><a href="submission-instructions.html#terrestrial"><i class="fa fa-check"></i><b>8.1.1</b> Terrestrial</a></li>
<li class="chapter" data-level="8.1.2" data-path="submission-instructions.html"><a href="submission-instructions.html#beetles"><i class="fa fa-check"></i><b>8.1.2</b> Beetles</a></li>
<li class="chapter" data-level="8.1.3" data-path="submission-instructions.html"><a href="submission-instructions.html#aquatics"><i class="fa fa-check"></i><b>8.1.3</b> Aquatics</a></li>
<li class="chapter" data-level="8.1.4" data-path="submission-instructions.html"><a href="submission-instructions.html#phenology"><i class="fa fa-check"></i><b>8.1.4</b> Phenology</a></li>
<li class="chapter" data-level="8.1.5" data-path="submission-instructions.html"><a href="submission-instructions.html#ticks"><i class="fa fa-check"></i><b>8.1.5</b> Ticks</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="submission-instructions.html"><a href="submission-instructions.html#metadata-format"><i class="fa fa-check"></i><b>8.2</b> Metadata format</a></li>
<li class="chapter" data-level="8.3" data-path="submission-instructions.html"><a href="submission-instructions.html#submission-process"><i class="fa fa-check"></i><b>8.3</b> Submission process</a></li>
<li class="chapter" data-level="8.4" data-path="submission-instructions.html"><a href="submission-instructions.html#validating-submission"><i class="fa fa-check"></i><b>8.4</b> Validating submission</a></li>
<li class="chapter" data-level="8.5" data-path="submission-instructions.html"><a href="submission-instructions.html#visualizing-submissions"><i class="fa fa-check"></i><b>8.5</b> Visualizing submissions</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="evaluation.html"><a href="evaluation.html"><i class="fa fa-check"></i><b>9</b> Evaluation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="evaluation.html"><a href="evaluation.html#results"><i class="fa fa-check"></i><b>9.1</b> Results</a></li>
<li class="chapter" data-level="9.2" data-path="evaluation.html"><a href="evaluation.html#scoring-metric-continuous-ranked-probability-score"><i class="fa fa-check"></i><b>9.2</b> Scoring Metric: Continuous Ranked Probability Score</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="evaluation.html"><a href="evaluation.html#example-of-a-crps-calculation-from-an-ensemble-forecast"><i class="fa fa-check"></i><b>9.2.1</b> Example of a CRPS calculation from an ensemble forecast</a></li>
<li class="chapter" data-level="9.2.2" data-path="evaluation.html"><a href="evaluation.html#exploring-the-scoring-surface"><i class="fa fa-check"></i><b>9.2.2</b> Exploring the scoring surface</a></li>
<li class="chapter" data-level="9.2.3" data-path="evaluation.html"><a href="evaluation.html#crps-from-the-normal-distribution"><i class="fa fa-check"></i><b>9.2.3</b> CRPS from the Normal Distribution</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="evaluation.html"><a href="evaluation.html#null-forecast"><i class="fa fa-check"></i><b>9.3</b> Null forecast</a></li>
<li class="chapter" data-level="9.4" data-path="evaluation.html"><a href="evaluation.html#forecast-submission-visualization-and-leaderboard"><i class="fa fa-check"></i><b>9.4</b> Forecast Submission Visualization and Leaderboard</a></li>
<li class="chapter" data-level="9.5" data-path="evaluation.html"><a href="evaluation.html#references-4"><i class="fa fa-check"></i><b>9.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="meteorology-inputs.html"><a href="meteorology-inputs.html"><i class="fa fa-check"></i><b>10</b> Meteorology Inputs</a>
<ul>
<li class="chapter" data-level="10.1" data-path="meteorology-inputs.html"><a href="meteorology-inputs.html#noaa-global-ensemble-forecasting-system"><i class="fa fa-check"></i><b>10.1</b> NOAA Global Ensemble Forecasting System</a></li>
<li class="chapter" data-level="10.2" data-path="meteorology-inputs.html"><a href="meteorology-inputs.html#neon-observed"><i class="fa fa-check"></i><b>10.2</b> NEON Observed</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="helpful-functions.html"><a href="helpful-functions.html"><i class="fa fa-check"></i><b>11</b> Helpful Functions</a>
<ul>
<li class="chapter" data-level="11.1" data-path="helpful-functions.html"><a href="helpful-functions.html#neon4cast-package"><i class="fa fa-check"></i><b>11.1</b> neon4cast package</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="helpful-functions.html"><a href="helpful-functions.html#installation"><i class="fa fa-check"></i><b>11.1.1</b> Installation</a></li>
<li class="chapter" data-level="11.1.2" data-path="helpful-functions.html"><a href="helpful-functions.html#example-forecast"><i class="fa fa-check"></i><b>11.1.2</b> Example forecast</a></li>
<li class="chapter" data-level="11.1.3" data-path="helpful-functions.html"><a href="helpful-functions.html#score-forecast-locally"><i class="fa fa-check"></i><b>11.1.3</b> Score forecast locally</a></li>
<li class="chapter" data-level="11.1.4" data-path="helpful-functions.html"><a href="helpful-functions.html#validate-a-forecast-file"><i class="fa fa-check"></i><b>11.1.4</b> Validate a forecast file</a></li>
<li class="chapter" data-level="11.1.5" data-path="helpful-functions.html"><a href="helpful-functions.html#generate-forecast-metadata-in-eml"><i class="fa fa-check"></i><b>11.1.5</b> Generate forecast metadata in EML</a></li>
<li class="chapter" data-level="11.1.6" data-path="helpful-functions.html"><a href="helpful-functions.html#access-efi-snapshots-of-noaa-forecasts-at-neon-sites"><i class="fa fa-check"></i><b>11.1.6</b> Access EFI snapshots of NOAA forecasts at NEON sites</a></li>
<li class="chapter" data-level="11.1.7" data-path="helpful-functions.html"><a href="helpful-functions.html#neon4cast-submit"><i class="fa fa-check"></i><b>11.1.7</b> Submit a forecast</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="helpful-functions.html"><a href="helpful-functions.html#neonstore-package"><i class="fa fa-check"></i><b>11.2</b> neonstore package</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="helpful-functions.html"><a href="helpful-functions.html#installation-1"><i class="fa fa-check"></i><b>11.2.1</b> Installation</a></li>
<li class="chapter" data-level="11.2.2" data-path="helpful-functions.html"><a href="helpful-functions.html#quickstart"><i class="fa fa-check"></i><b>11.2.2</b> Quickstart</a></li>
<li class="chapter" data-level="11.2.3" data-path="helpful-functions.html"><a href="helpful-functions.html#database-backend"><i class="fa fa-check"></i><b>11.2.3</b> Database backend</a></li>
<li class="chapter" data-level="11.2.4" data-path="helpful-functions.html"><a href="helpful-functions.html#note-on-api-limits"><i class="fa fa-check"></i><b>11.2.4</b> Note on API limits</a></li>
<li class="chapter" data-level="11.2.5" data-path="helpful-functions.html"><a href="helpful-functions.html#non-stacking-files-and-low-level-interface"><i class="fa fa-check"></i><b>11.2.5</b> Non-stacking files and low-level interface</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="helpful-functions.html"><a href="helpful-functions.html#efistandards-package"><i class="fa fa-check"></i><b>11.3</b> EFIstandards package</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="helpful-functions.html"><a href="helpful-functions.html#output-files"><i class="fa fa-check"></i><b>11.3.1</b> Output Files:</a></li>
<li class="chapter" data-level="11.3.2" data-path="helpful-functions.html"><a href="helpful-functions.html#output-metadata"><i class="fa fa-check"></i><b>11.3.2</b> Output Metadata:</a></li>
<li class="chapter" data-level="11.3.3" data-path="helpful-functions.html"><a href="helpful-functions.html#archiving"><i class="fa fa-check"></i><b>11.3.3</b> Archiving:</a></li>
<li class="chapter" data-level="11.3.4" data-path="helpful-functions.html"><a href="helpful-functions.html#vignettes"><i class="fa fa-check"></i><b>11.3.4</b> Vignettes:</a></li>
<li class="chapter" data-level="11.3.5" data-path="helpful-functions.html"><a href="helpful-functions.html#documentation"><i class="fa fa-check"></i><b>11.3.5</b> Documentation:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html"><i class="fa fa-check"></i><b>12</b> Frequently Asked Questions</a>
<ul>
<li class="chapter" data-level="12.1" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#my-model-uses-meterology-inputs.-where-can-i-find-forecasts-of-weather-to-use-in-my-ecological-forecast"><i class="fa fa-check"></i><b>12.1</b> My model uses meterology inputs. Where can I find forecasts of weather to use in my ecological forecast?</a></li>
<li class="chapter" data-level="12.2" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#i-need-historical-weather-data-to-build-my-model.-where-can-i-find-it"><i class="fa fa-check"></i><b>12.2</b> I need historical weather data to build my model. Where can I find it?</a></li>
<li class="chapter" data-level="12.3" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#i-submitted-my-forecast-but-cannot-find-it-on-the-dashboard-or-in-the-directory-of-forecasts"><i class="fa fa-check"></i><b>12.3</b> I submitted my forecast but cannot find it on the dashboard or in the directory of forecasts</a></li>
<li class="chapter" data-level="12.4" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#do-i-need-to-submit-forecasts-to-every-submission-date"><i class="fa fa-check"></i><b>12.4</b> Do I need to submit forecasts to every submission date?</a></li>
<li class="chapter" data-level="12.5" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#where-can-i-find-examples-of-forecasts-that-match-the-required-standard"><i class="fa fa-check"></i><b>12.5</b> Where can I find examples of forecasts that match the required standard?</a></li>
<li class="chapter" data-level="12.6" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#i-am-having-trouble-generating-the-metadata.-can-you-point-me-to-more-information-tutorials-or-examples"><i class="fa fa-check"></i><b>12.6</b> I am having trouble generating the metadata. Can you point me to more information, tutorials, or examples?</a></li>
<li class="chapter" data-level="12.7" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#how-many-years-are-you-planning-to-run-the-challenge"><i class="fa fa-check"></i><b>12.7</b> How many years are you planning to run the Challenge?</a></li>
<li class="chapter" data-level="12.8" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#are-there-certain-types-of-models-that-i-need-to-use"><i class="fa fa-check"></i><b>12.8</b> Are there certain types of models that I need to use?</a></li>
<li class="chapter" data-level="12.9" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#what-is-the-relationship-between-the-challenge-and-neon"><i class="fa fa-check"></i><b>12.9</b> What is the relationship between the Challenge and NEON?</a></li>
<li class="chapter" data-level="12.10" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#i-am-interested-in-submitting-different-models-or-to-multiple-themes.-how-should-i-register-to-do-this"><i class="fa fa-check"></i><b>12.10</b> I am interested in submitting different models or to multiple themes. How should I register to do this?</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NEON Ecological Forecasting Challenge</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="evaluation" class="section level1" number="9">
<h1><span class="header-section-number">9</span> Evaluation</h1>
<p>Forecasts will be evaluated at each site and forecast horizon (i.e., time-step into the future), and a summary score will be assigned evaluating overall performance of all forecast submissions across sites. Forecasts will also be compared to a null model.</p>
<p>Forecast evaluation results will be presented for all submitted models together and separately for each team category: undergraduate student only team, graduate student only team, post-doc only team, single institution team, multi-institution team, international team (team with individuals from at least two countries).</p>
<div id="results" class="section level2" number="9.1">
<h2><span class="header-section-number">9.1</span> Results</h2>
<p>Preliminary results will be distributed using the NEON Ecological Forecast Challenge <a href="http://shiny.ecoforecast.org/" target="_blank">dashboard</a> and at <a href="https://data.ecoforecast.org/minio/scores/" class="uri">https://data.ecoforecast.org/minio/scores/</a>. We intend to write a joint manuscript synthesizing forecasts, authorship will be extended to members of each team with an opt-in policy. Teams are welcome to publish results from their model at any time. If a publication is generated we encourage the manuscript to acknowledge the Ecological Forecasting Research Coordination Network and its support from the National Science Foundation (DEB-1926388).</p>
</div>
<div id="scoring-metric-continuous-ranked-probability-score" class="section level2" number="9.2">
<h2><span class="header-section-number">9.2</span> Scoring Metric: Continuous Ranked Probability Score</h2>
<p>Forecasts will be scored using the continuous ranked probability score (CRPS), a proper scoring rule for evaluating forecasts presented as distributions or ensembles (Gneiting &amp; Raftery 2007). The CRPS compares the forecast probability distribution to that of the validation observation and assigns a score based on both the accuracy and precision of the forecast. We will use the ‘crps_sample’ function from the <code>scoringRules</code> package in R to calculate the CRPS for each forecast.</p>
<p>We will generate a combined score for all locations and forecast horizons. Forecasts will also be evaluated using the CRPS at each time-step in the forecast horizon and each location included in the forecasts.</p>
<p>Importantly, we use the convention for CRPS where zero is lowest and best possible score, therefore teams want to achieve the lowest score. CPRS can be also expressed as a negative number with zero as highest and best possible score (Gneiting &amp; Raftery 2007). The <code>scoringRules</code> package that we use follows the 0 or greater convention.</p>
<div id="example-of-a-crps-calculation-from-an-ensemble-forecast" class="section level3" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Example of a CRPS calculation from an ensemble forecast</h3>
<p>The following uses Equation 2 in Jordan, Kruger, and Lerch 2018</p>
<div class="figure">
<img src="images/equation_2.png" alt="" />
<p class="caption">Equation 1 from Jordan, Kruger, and Lerch 2018.</p>
</div>
<p>First, create a random sample from a probability distribution. This is the “forecast” for a particular point in time. For simplicity, we will use a normal distribution with a mean of 8 and standard deviation of 1</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="evaluation.html#cb39-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="at">mean =</span> <span class="dv">8</span>, <span class="at">sd =</span> <span class="fl">1.0</span>)</span></code></pre></div>
<p>Second, we have our data point (i.e., the target). We will set it to zero as well</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="evaluation.html#cb40-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">8</span></span></code></pre></div>
<p>Now calculate CRPS using Equation 2</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="evaluation.html#cb41-1" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb41-2"><a href="evaluation.html#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)){</span>
<span id="cb41-3"><a href="evaluation.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(x)){</span>
<span id="cb41-4"><a href="evaluation.html#cb41-4" aria-hidden="true" tabindex="-1"></a>    s <span class="ot">&lt;-</span> s <span class="sc">+</span> <span class="fu">abs</span>(x[i] <span class="sc">-</span> x[j])</span>
<span id="cb41-5"><a href="evaluation.html#cb41-5" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb41-6"><a href="evaluation.html#cb41-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb41-7"><a href="evaluation.html#cb41-7" aria-hidden="true" tabindex="-1"></a>crps_equation_2 <span class="ot">&lt;-</span> <span class="fu">mean</span>(<span class="fu">abs</span>(x <span class="sc">-</span> y)) <span class="sc">-</span> s <span class="sc">/</span> (<span class="dv">2</span> <span class="sc">*</span> <span class="fu">length</span>(x)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb41-8"><a href="evaluation.html#cb41-8" aria-hidden="true" tabindex="-1"></a>crps_equation_2</span></code></pre></div>
<pre><code>## [1] 0.2261885</code></pre>
<p>Now calculate using the <code>crps_sample()</code> function in the <code>scoringRules</code> package</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="evaluation.html#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">crps_sample</span>(<span class="at">y =</span> y, <span class="at">dat =</span> x)</span></code></pre></div>
<pre><code>## [1] 0.2261885</code></pre>
</div>
<div id="exploring-the-scoring-surface" class="section level3" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Exploring the scoring surface</h3>
<p>Now lets see how the CRPS changes as the mean and standard deviation of the forecasted distribution change</p>
<p>First, set vectors for the different mean and SD values we want to explore</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="evaluation.html#cb45-1" aria-hidden="true" tabindex="-1"></a>sample_mean <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">4</span>, <span class="dv">12</span>, <span class="fl">0.1</span>)</span>
<span id="cb45-2"><a href="evaluation.html#cb45-2" aria-hidden="true" tabindex="-1"></a>sample_sd <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="dv">10</span>, <span class="fl">0.1</span>)</span></code></pre></div>
<p>Second, set our observed value to 8 for simplicity</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="evaluation.html#cb46-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">8</span></span></code></pre></div>
<p>Now calculate the CRPS at each combination of forest mean and SD</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="evaluation.html#cb47-1" aria-hidden="true" tabindex="-1"></a>combined <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="fu">length</span>(sample_mean), <span class="fu">length</span>(sample_sd)))</span>
<span id="cb47-2"><a href="evaluation.html#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sample_mean)){</span>
<span id="cb47-3"><a href="evaluation.html#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sample_sd)){</span>
<span id="cb47-4"><a href="evaluation.html#cb47-4" aria-hidden="true" tabindex="-1"></a>    sample <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10000</span>, sample_mean[i], sample_sd[j])</span>
<span id="cb47-5"><a href="evaluation.html#cb47-5" aria-hidden="true" tabindex="-1"></a>    combined[i, j] <span class="ot">&lt;-</span> <span class="fu">crps_sample</span>(<span class="at">y =</span> y, <span class="at">dat =</span> sample)</span>
<span id="cb47-6"><a href="evaluation.html#cb47-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb47-7"><a href="evaluation.html#cb47-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Finally, visualize the scoring surface with the observed value represented by the red line</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="evaluation.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x =</span> sample_mean, <span class="at">y =</span> sample_sd, <span class="at">z =</span> <span class="fu">as.matrix</span>(combined),<span class="at">nlevels =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;Mean&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;SD&quot;</span>)</span>
<span id="cb48-2"><a href="evaluation.html#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> y, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="04-Evaluation_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>The contour surface highlights the trade-off between the mean and standard deviation.</p>
</div>
<div id="crps-from-the-normal-distribution" class="section level3" number="9.2.3">
<h3><span class="header-section-number">9.2.3</span> CRPS from the Normal Distribution</h3>
<p>If the distributional forecast is a normal distribution represented by a mean <span class="math inline">\(\mu\)</span> and standard deviation <span class="math inline">\(\sigma\)</span>, an ensemble of predictions is not needed to evaluate CRPS because we can take advantage of the analytic solution to CRPS under the normal assumption (Equation 4 from Gneiting et al. 2005)</p>
<p>Equation 5 from Gneiting et al. (2005) gives</p>
<p><span class="math display">\[\begin{align*}
CRPS(N(\mu, \sigma^2) | y) = \sigma \left( \frac{y - \mu}{\sigma} \left( 2 \Phi\left(  \frac{y - \mu}{\sigma} \right) - 1 \right)  + 2 \phi \left(  \frac{y - \mu}{\sigma} \right) - \frac{1}{\sqrt{\pi}} \right)
\end{align*}\]</span></p>
<p>for <span class="math inline">\(\Phi(\cdot)\)</span> and <span class="math inline">\(\phi(\cdot)\)</span> the standard normal CDF and PDF, respectively. Therefore, if the forecast distribution is <strong>truly</strong> a normal distribution (often this isn’t true in forecasts that only report a mean and sd) a simplified score can be applied as follows:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="evaluation.html#cb49-1" aria-hidden="true" tabindex="-1"></a>sample_mean <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">4</span>, <span class="dv">12</span>, <span class="fl">0.1</span>)</span>
<span id="cb49-2"><a href="evaluation.html#cb49-2" aria-hidden="true" tabindex="-1"></a>sample_sd <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fl">0.1</span>, <span class="dv">10</span>, <span class="fl">0.1</span>)</span>
<span id="cb49-3"><a href="evaluation.html#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="evaluation.html#cb49-4" aria-hidden="true" tabindex="-1"></a>combined_norm <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="fu">length</span>(sample_mean), <span class="fu">length</span>(sample_sd)))</span>
<span id="cb49-5"><a href="evaluation.html#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sample_mean)){</span>
<span id="cb49-6"><a href="evaluation.html#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(j <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sample_sd)){</span>
<span id="cb49-7"><a href="evaluation.html#cb49-7" aria-hidden="true" tabindex="-1"></a>    combined_norm[i, j] <span class="ot">&lt;-</span> <span class="fu">crps_norm</span>(<span class="at">y =</span> y, <span class="at">mean =</span> sample_mean[i], <span class="at">sd =</span> sample_sd[j])</span>
<span id="cb49-8"><a href="evaluation.html#cb49-8" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb49-9"><a href="evaluation.html#cb49-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Finally, visualize the scoring surface with the observed value represented by
the red line.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="evaluation.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x =</span> sample_mean, <span class="at">y =</span> sample_sd, <span class="at">z =</span> <span class="fu">as.matrix</span>(combined_norm), <span class="at">nlevels =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;Mean&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;SD&quot;</span>)</span>
<span id="cb50-2"><a href="evaluation.html#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> y, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="04-Evaluation_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>Note that at a given value of the sd, the lowest score is achieved at <span class="math inline">\(\mu = y\)</span> as shown for each of the blue lines where the minimum value of the score across each blue line is at the red line. This behavior makes sense because the CRPS is a score that rewards accuracy and precision. Thus, for any given level of precision (represented by the standard deviation), CRPS is optimized by producing the most accurate prediction of the distribution’s location.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="evaluation.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x =</span> sample_mean, <span class="at">y =</span> sample_sd, <span class="at">z =</span> <span class="fu">as.matrix</span>(combined_norm), <span class="at">nlevels =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;Mean&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;SD&quot;</span>)</span>
<span id="cb51-2"><a href="evaluation.html#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> y, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span>
<span id="cb51-3"><a href="evaluation.html#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fl">2.5</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb51-4"><a href="evaluation.html#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fl">4.3</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb51-5"><a href="evaluation.html#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="fl">6.8</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="04-Evaluation_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Interestingly, for a given mean <span class="math inline">\(\mu \neq y\)</span> we find a pattern that makes intuitive sense given the goal of CRPS to produce forecasts that are both accurate and precise. For a given amount of bias in the prediction (i.e., given a <span class="math inline">\(\mu \neq y\)</span>), the optimal score is achieved by a standard deviation that slightly larger than the bias.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="evaluation.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">layout</span>(<span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="at">byrow =</span> <span class="cn">TRUE</span>))</span>
<span id="cb52-2"><a href="evaluation.html#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="do">## plots for mu = 7</span></span>
<span id="cb52-3"><a href="evaluation.html#cb52-3" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="dv">7</span></span>
<span id="cb52-4"><a href="evaluation.html#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x =</span> sample_mean, <span class="at">y =</span> sample_sd, <span class="at">z =</span> <span class="fu">as.matrix</span>(combined_norm), <span class="at">nlevels =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;Mean&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;SD&quot;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;CRPS contour given mu = &quot;</span>, mu))</span>
<span id="cb52-5"><a href="evaluation.html#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> mu, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span>
<span id="cb52-6"><a href="evaluation.html#cb52-6" aria-hidden="true" tabindex="-1"></a>min_sd <span class="ot">&lt;-</span> sample_sd[<span class="fu">which.min</span>(<span class="fu">crps_norm</span>(y, <span class="at">mean =</span> mu, <span class="at">sd =</span> sample_sd))]</span>
<span id="cb52-7"><a href="evaluation.html#cb52-7" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> min_sd, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb52-8"><a href="evaluation.html#cb52-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sample_sd, <span class="fu">crps_norm</span>(y, <span class="at">mean =</span> mu, <span class="at">sd =</span> sample_sd), <span class="at">type =</span> <span class="st">&#39;l&#39;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;CRPS profile given mu = &quot;</span>, mu))</span>
<span id="cb52-9"><a href="evaluation.html#cb52-9" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> min_sd, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb52-10"><a href="evaluation.html#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="do">## plots for mu = 11</span></span>
<span id="cb52-11"><a href="evaluation.html#cb52-11" aria-hidden="true" tabindex="-1"></a>mu <span class="ot">&lt;-</span> <span class="dv">11</span></span>
<span id="cb52-12"><a href="evaluation.html#cb52-12" aria-hidden="true" tabindex="-1"></a><span class="fu">contour</span>(<span class="at">x =</span> sample_mean, <span class="at">y =</span> sample_sd, <span class="at">z =</span> <span class="fu">as.matrix</span>(combined_norm), <span class="at">nlevels =</span> <span class="dv">20</span>, <span class="at">xlab =</span> <span class="st">&quot;Mean&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;SD&quot;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;CRPS contour given mu = &quot;</span>, mu))</span>
<span id="cb52-13"><a href="evaluation.html#cb52-13" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> mu, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)</span>
<span id="cb52-14"><a href="evaluation.html#cb52-14" aria-hidden="true" tabindex="-1"></a>min_sd <span class="ot">&lt;-</span> sample_sd[<span class="fu">which.min</span>(<span class="fu">crps_norm</span>(y, <span class="at">mean =</span> mu, <span class="at">sd =</span> sample_sd))]</span>
<span id="cb52-15"><a href="evaluation.html#cb52-15" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> min_sd, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span>
<span id="cb52-16"><a href="evaluation.html#cb52-16" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sample_sd, <span class="fu">crps_norm</span>(y, <span class="at">mean =</span> mu, <span class="at">sd =</span> sample_sd), <span class="at">type =</span> <span class="st">&#39;l&#39;</span>, <span class="at">main =</span> <span class="fu">paste0</span>(<span class="st">&quot;CRPS profile given mu = &quot;</span>, mu))</span>
<span id="cb52-17"><a href="evaluation.html#cb52-17" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">v =</span> min_sd, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="04-Evaluation_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Next, we plot the relationship between a given value of <span class="math inline">\(\mu\)</span> and the <span class="math inline">\(\sigma\)</span> that produces the optimal CRPS. This looks like a linear relationship.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="evaluation.html#cb53-1" aria-hidden="true" tabindex="-1"></a>optimal_sd <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="dv">0</span>, <span class="fu">length</span>(sample_mean))</span>
<span id="cb53-2"><a href="evaluation.html#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(sample_mean)) {</span>
<span id="cb53-3"><a href="evaluation.html#cb53-3" aria-hidden="true" tabindex="-1"></a>  optimal_sd[i] <span class="ot">&lt;-</span> sample_sd[<span class="fu">which.min</span>(<span class="fu">crps_norm</span>(y, <span class="at">mean =</span> sample_mean[i], <span class="at">sd =</span> sample_sd))]</span>
<span id="cb53-4"><a href="evaluation.html#cb53-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb53-5"><a href="evaluation.html#cb53-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(sample_mean, optimal_sd, <span class="at">type =</span> <span class="st">&#39;l&#39;</span>)</span></code></pre></div>
<p><img src="04-Evaluation_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<p>Let’s estimate the slope of the relationship. It looks like the optimal <span class="math inline">\(sd\)</span> for a normal distribution forecast that is biased by <span class="math inline">\(|y - \mu|\)</span> is <span class="math inline">\(sd = 1.2|y - \mu|\)</span> which makes sense as this would put the true value in a region of high probability.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="evaluation.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(<span class="fu">lm</span>(optimal_sd[sample_mean <span class="sc">&gt;</span> <span class="dv">0</span>] <span class="sc">~</span> sample_mean[sample_mean <span class="sc">&gt;</span> <span class="dv">0</span>]))</span></code></pre></div>
<pre><code>##                  (Intercept) sample_mean[sample_mean &gt; 0] 
##                 2.430864e+00                -1.688326e-16</code></pre>
</div>
</div>
<div id="null-forecast" class="section level2" number="9.3">
<h2><span class="header-section-number">9.3</span> Null forecast</h2>
<p>All forecasts will be compared to a null forecast produced by a simple historical-means calculation or a random walk. The GitHub repository for each theme has the code for the null model.</p>
<p>Ticks: <a href="https://github.com/eco4cast/neon4cast-ticks/blob/master/03_nullFitAndForecast.R" class="uri">https://github.com/eco4cast/neon4cast-ticks/blob/master/03_nullFitAndForecast.R</a></p>
<p>Terrestrial (Daily): <a href="https://github.com/eco4cast/neon4cast-terrestrial/blob/master/03_terrestrial_flux_daily_null.R" class="uri">https://github.com/eco4cast/neon4cast-terrestrial/blob/master/03_terrestrial_flux_daily_null.R</a></p>
<p>Terrestrial (30 minute): <a href="https://github.com/eco4cast/neon4cast-terrestrial/blob/master/04_terrestrial_flux_30min_clim.R" class="uri">https://github.com/eco4cast/neon4cast-terrestrial/blob/master/04_terrestrial_flux_30min_clim.R</a></p>
<p>Beetles: <a href="https://github.com/eco4cast/neon4cast-beetles/blob/master/03_forecast.R" class="uri">https://github.com/eco4cast/neon4cast-beetles/blob/master/03_forecast.R</a></p>
<p>Aquatics: <a href="https://github.com/eco4cast/neon4cast-aquatics/blob/master/03_generate_null_forecast_aquatics.R" class="uri">https://github.com/eco4cast/neon4cast-aquatics/blob/master/03_generate_null_forecast_aquatics.R</a></p>
<p>Phenology: <a href="https://github.com/eco4cast/neon4cast-phenology/blob/master/nullModel_randomWalk_main.R" class="uri">https://github.com/eco4cast/neon4cast-phenology/blob/master/nullModel_randomWalk_main.R</a></p>
</div>
<div id="forecast-submission-visualization-and-leaderboard" class="section level2" number="9.4">
<h2><span class="header-section-number">9.4</span> Forecast Submission Visualization and Leaderboard</h2>
<p>The <a href="https://shiny.ecoforecast.org" target="_blank">dashboard</a> shows the forecast submissions by each team for each forecast theme by date and forecast variable. It also provides the <a href="https://shiny.ecoforecast.org/#section-scores" target="_blank">CRPS scores</a> for each submitted forecast.</p>
</div>
<div id="references-4" class="section level2" number="9.5">
<h2><span class="header-section-number">9.5</span> References</h2>
<p>Gneiting, T., A.E. Raftery. 2007. Strictly proper scoring rules, prediction, and estimation. Journal of the American Statistical Association, 102(477): 359–378. <a href="https://doi.org/10.1198/016214506000001437" class="uri">https://doi.org/10.1198/016214506000001437</a></p>
<p>Jordan, A., F. Kruger, and S. Lerch 2018. Evaluating probabilistic forecasts with scoringRules. <a href="https://cran.r-project.org/web/packages/scoringRules/vignettes/article.pdf" class="uri">https://cran.r-project.org/web/packages/scoringRules/vignettes/article.pdf</a></p>
<p>Gneiting, T., A.E. Raftery, A.H. Westveld III, T. Goldman. 2005. Calibrated probabilistic forecasting using ensemble model output statistics and minimum CRPS estimation. Monthly Weather Review, 133(5): 1098-1118. <a href="https://doi.org/10.1175/MWR2904.1" class="uri">https://doi.org/10.1175/MWR2904.1</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="submission-instructions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="meteorology-inputs.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
